{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from '@/router';\nimport { auth, db } from '../firebase';\nimport { createUserWithEmailAndPassword, updateProfile } from 'firebase/auth';\nimport { doc, setDoc } from 'firebase/firestore';\nimport { ref } from 'vue';\nexport default {\n  setup() {\n    const displayname = ref('');\n    const email = ref('');\n    const password = ref('');\n    const errors = ref(null);\n    const admin = ref(false);\n    const create_user = () => {\n      createUserWithEmailAndPassword(auth, email.value, password.value).then(async userData => {\n        const user = userData.user;\n        await setDoc(doc(db, 'users', user.uid), {\n          name: displayname.value,\n          email: email.value,\n          admin: admin.value\n        });\n        return updateProfile(user, {\n          displayName: displayname.value\n        });\n      }).then(() => {\n        router.push('/');\n      }).catch(error => {\n        errors.value = error.message;\n      });\n    };\n    return {\n      displayname,\n      email,\n      password,\n      errors,\n      admin,\n      create_user\n    };\n  }\n};","map":{"version":3,"names":["router","auth","db","createUserWithEmailAndPassword","updateProfile","doc","setDoc","ref","setup","displayname","email","password","errors","admin","create_user","value","then","userData","user","uid","name","displayName","push","catch","error","message"],"sources":["/Users/souhaib./Quizz/Quiz/src/components/SignupForm.vue"],"sourcesContent":["<template>\n  <form @submit.prevent=\"create_user\">\n    <div class=\"form-group\">\n      <input type=\"text\" required placeholder=\"Display name\" v-model=\"displayname\">\n    </div>\n    <div class=\"form-group\">\n      <input type=\"email\" required placeholder=\"Your email\" v-model=\"email\">\n    </div>\n    <div class=\"form-group\">\n      <input type=\"password\" required placeholder=\"Your password\" v-model=\"password\">\n    </div>\n    <div class=\"form-group\">\n      <label for=\"admin\">Role: Admin?</label>\n      <input type=\"checkbox\" v-model=\"admin\">\n    </div>\n    <button type=\"submit\" class=\"btn btn-success\">Sign up</button>\n    <div class=\"error\">{{ errors }}</div>\n  </form>\n  \n</template>\n\n<script>\nimport router from '@/router';\nimport {auth, db} from '../firebase'\nimport { createUserWithEmailAndPassword, updateProfile } from 'firebase/auth';\nimport {doc, setDoc} from 'firebase/firestore'\nimport { ref } from 'vue';\n\n\n\nexport default {\n  setup() {\n    const displayname = ref('')\n    const email = ref('')\n    const password = ref('')\n    const errors = ref(null)\n    const admin = ref(false)\n    const create_user = () => {\n        createUserWithEmailAndPassword(auth, email.value, password.value)\n        .then( async (userData) => {\n          const user = userData.user;\n          await setDoc(doc(db , 'users', user.uid), {\n            name: displayname.value,\n            email: email.value,\n            admin: admin.value \n          })\n\n          return updateProfile(user, {displayName: displayname.value})\n        } \n        ) \n    \n        .then(\n          () => {\n            router.push('/')\n          }\n        )\n        .catch((error) => {\n          errors.value = error.message\n        })\n      }\n      return {\n      displayname, \n      email,\n      password,\n      errors,\n      admin,\n      create_user\n    }\n   \n  }\n}\n\n</script>\n\n<style>\n\n</style>"],"mappings":";AAsBA,OAAOA,MAAK,MAAO,UAAU;AAC7B,SAAQC,IAAI,EAAEC,EAAE,QAAO,aAAY;AACnC,SAASC,8BAA8B,EAAEC,aAAY,QAAS,eAAe;AAC7E,SAAQC,GAAG,EAAEC,MAAM,QAAO,oBAAmB;AAC7C,SAASC,GAAE,QAAS,KAAK;AAIzB,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,WAAU,GAAIF,GAAG,CAAC,EAAE;IAC1B,MAAMG,KAAI,GAAIH,GAAG,CAAC,EAAE;IACpB,MAAMI,QAAO,GAAIJ,GAAG,CAAC,EAAE;IACvB,MAAMK,MAAK,GAAIL,GAAG,CAAC,IAAI;IACvB,MAAMM,KAAI,GAAIN,GAAG,CAAC,KAAK;IACvB,MAAMO,WAAU,GAAIA,CAAA,KAAM;MACtBX,8BAA8B,CAACF,IAAI,EAAES,KAAK,CAACK,KAAK,EAAEJ,QAAQ,CAACI,KAAK,EAC/DC,IAAI,CAAE,MAAOC,QAAQ,IAAK;QACzB,MAAMC,IAAG,GAAID,QAAQ,CAACC,IAAI;QAC1B,MAAMZ,MAAM,CAACD,GAAG,CAACH,EAAC,EAAI,OAAO,EAAEgB,IAAI,CAACC,GAAG,CAAC,EAAE;UACxCC,IAAI,EAAEX,WAAW,CAACM,KAAK;UACvBL,KAAK,EAAEA,KAAK,CAACK,KAAK;UAClBF,KAAK,EAAEA,KAAK,CAACE;QACf,CAAC;QAED,OAAOX,aAAa,CAACc,IAAI,EAAE;UAACG,WAAW,EAAEZ,WAAW,CAACM;QAAK,CAAC;MAC7D,CACA,EAECC,IAAI,CACH,MAAM;QACJhB,MAAM,CAACsB,IAAI,CAAC,GAAG;MACjB,CACF,EACCC,KAAK,CAAEC,KAAK,IAAK;QAChBZ,MAAM,CAACG,KAAI,GAAIS,KAAK,CAACC,OAAM;MAC7B,CAAC;IACH;IACA,OAAO;MACPhB,WAAW;MACXC,KAAK;MACLC,QAAQ;MACRC,MAAM;MACNC,KAAK;MACLC;IACF;EAEF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}