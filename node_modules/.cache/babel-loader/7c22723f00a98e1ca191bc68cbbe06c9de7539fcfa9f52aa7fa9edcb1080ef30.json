{"ast":null,"code":"import listQuiz from '@/components/listQuiz.vue';\nimport { auth, db } from '../firebase';\nimport { ref, onMounted } from 'vue';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { doc, getDoc } from 'firebase/firestore';\nexport default {\n  components: {\n    listQuiz\n  },\n  setup() {\n    const user = ref(null);\n    const is_admin = ref(null);\n    onMounted(() => {\n      onAuthStateChanged(auth, async u => {\n        if (u) {\n          user.value = u;\n          const userDoc = await getDoc(doc(db, 'users', u.uid));\n          is_admin.value = userDoc.data()?.admin ?? false;\n        }\n      });\n    });\n    return {\n      user,\n      is_admin\n    };\n  }\n};","map":{"version":3,"names":["listQuiz","auth","db","ref","onMounted","onAuthStateChanged","doc","getDoc","components","setup","user","is_admin","u","value","userDoc","uid","data","admin"],"sources":["/Users/souhaib./Quizz/Quiz/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <router-link to=\"/Signup\">Sign Up</router-link>\n    <router-link to=\"/Login\">Login</router-link>\n    <router-link to=\"/CreateQuizz\" v-if=\"is_admin\">Create Quiz</router-link>\n  </div>\n  <h1 v-if=\"user\">Hello {{ user.displayName }}</h1>\n  <listQuiz/>\n  <RouterView/>\n</template>\n\n<script>\nimport listQuiz from '@/components/listQuiz.vue';\nimport {auth, db} from '../firebase'\nimport {ref, onMounted} from 'vue'\nimport { onAuthStateChanged } from 'firebase/auth';\nimport {doc, getDoc} from 'firebase/firestore'\n\nexport default {\n  components: {\n    listQuiz\n  },\n  setup() {\n    const user = ref(null);\n    const is_admin = ref(null)\n    onMounted(() => {\n      onAuthStateChanged(auth, async (u) => {\n        if (u) {\n          user.value = u\n          const userDoc = await getDoc(doc(db, 'users', u.uid))\n          is_admin.value = userDoc.data()?.admin ?? false\n\n        }\n      })\n\n    })\n\n    \n    return {\n      user,\n      is_admin\n    }\n  }\n  \n\n  \n  \n}\n</script>\n"],"mappings":"AAYA,OAAOA,QAAO,MAAO,2BAA2B;AAChD,SAAQC,IAAI,EAAEC,EAAE,QAAO,aAAY;AACnC,SAAQC,GAAG,EAAEC,SAAS,QAAO,KAAI;AACjC,SAASC,kBAAiB,QAAS,eAAe;AAClD,SAAQC,GAAG,EAAEC,MAAM,QAAO,oBAAmB;AAE7C,eAAe;EACbC,UAAU,EAAE;IACVR;EACF,CAAC;EACDS,KAAKA,CAAA,EAAG;IACN,MAAMC,IAAG,GAAIP,GAAG,CAAC,IAAI,CAAC;IACtB,MAAMQ,QAAO,GAAIR,GAAG,CAAC,IAAI;IACzBC,SAAS,CAAC,MAAM;MACdC,kBAAkB,CAACJ,IAAI,EAAE,MAAOW,CAAC,IAAK;QACpC,IAAIA,CAAC,EAAE;UACLF,IAAI,CAACG,KAAI,GAAID,CAAA;UACb,MAAME,OAAM,GAAI,MAAMP,MAAM,CAACD,GAAG,CAACJ,EAAE,EAAE,OAAO,EAAEU,CAAC,CAACG,GAAG,CAAC;UACpDJ,QAAQ,CAACE,KAAI,GAAIC,OAAO,CAACE,IAAI,CAAC,CAAC,EAAEC,KAAI,IAAK,KAAI;QAEhD;MACF,CAAC;IAEH,CAAC;IAGD,OAAO;MACLP,IAAI;MACJC;IACF;EACF;AAKF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}